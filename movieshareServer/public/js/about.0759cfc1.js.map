{"version":3,"file":"js/about.0759cfc1.js","mappings":"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","sources":["webpack://movieshare/./src/views/TV.vue","webpack://movieshare/./src/views/TV.vue?e8f2"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, createBlock as _createBlock, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"movies\",\n  scroll: \"no\",\n  ref: \"movies\"\n};\nconst _hoisted_2 = {\n  class: \"newBar\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  style: {\n    \"padding\": \"14px\"\n  }\n};\nconst _hoisted_5 = {\n  style: {\n    \"font-size\": \"20px\"\n  }\n};\nconst _hoisted_6 = {\n  class: \"bottom\"\n};\nconst _hoisted_7 = {\n  class: \"time\"\n};\nconst _hoisted_8 = [\"src\"];\nimport { useMenuStore } from '@/store/menu';\nimport { useMovieStore } from '@/store/movie';\nimport { nextTick, onMounted, reactive, ref, watch } from 'vue';\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TV',\n  setup(__props) {\n    const iframeRef = ref();\n    const isShowDrawer = ref(false);\n    const movieInfo = reactive({\n      title: '',\n      url: ''\n    });\n    const movieStore = useMovieStore();\n    const menuStore = useMenuStore();\n    watch(() => menuStore.index, () => {\n      movieStore.$reset();\n      movieStore.getMovieList('tv', menuStore.menuList[menuStore.index]);\n    });\n    onMounted(() => {\n      movieStore.$reset();\n      console.log('挂载');\n      movieStore.getMovieList('tv', menuStore.menuList[menuStore.index]);\n    });\n    function showDrawer([title, url]) {\n      isShowDrawer.value = true;\n      movieInfo.title = title;\n      movieInfo.url = url;\n      nextTick(() => {\n        // iframeRef.value.contentWindow.console = {\n        //   log: function () {},\n        //   error: function () {},\n        //   warn: function () {},\n        //   info: function () {},\n        // };\n      });\n    }\n    function handleClose() {\n      movieInfo.title = '';\n      movieInfo.url = '';\n    }\n    return (_ctx, _cache) => {\n      const _component_ArrowRightBold = _resolveComponent(\"ArrowRightBold\");\n      const _component_el_icon = _resolveComponent(\"el-icon\");\n      const _component_el_button = _resolveComponent(\"el-button\");\n      const _component_el_card = _resolveComponent(\"el-card\");\n      const _component_el_drawer = _resolveComponent(\"el-drawer\");\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(movieStore).movieList, (item, index) => {\n        return _openBlock(), _createBlock(_component_el_card, {\n          \"body-style\": {\n            padding: '0px'\n          },\n          class: \"movie\",\n          key: index,\n          onClick: $event => showDrawer([item.title, item.url])\n        }, {\n          default: _withCtx(() => [_withDirectives(_createElementVNode(\"div\", _hoisted_2, \"NEW\", 512), [[_vShow, item.is_new]]), _createElementVNode(\"img\", {\n            src: item.cover,\n            class: \"image\"\n          }, null, 8, _hoisted_3), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", _hoisted_5, _toDisplayString(item.title), 1), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"time\", _hoisted_7, \"评分: \" + _toDisplayString(item.rate ? item.rate : '暂无'), 1), _createVNode(_component_el_button, {\n            text: \"\",\n            class: \"button\"\n          }, {\n            default: _withCtx(() => [_createTextVNode(\" 查看详情 \"), _createVNode(_component_el_icon, null, {\n              default: _withCtx(() => [_createVNode(_component_ArrowRightBold)]),\n              _: 1\n            })]),\n            _: 1\n          })])])]),\n          _: 2\n        }, 1032, [\"onClick\"]);\n      }), 128))], 512), _createVNode(_component_el_drawer, {\n        modelValue: isShowDrawer.value,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => isShowDrawer.value = $event),\n        title: `详情: ${movieInfo.title}`,\n        direction: \"btt\",\n        size: \"93%\",\n        ref: \"drawerRef\",\n        onScroll: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"stop\"]))\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"iframe\", {\n          src: movieInfo.url,\n          frameborder: \"0\",\n          width: \"100%\",\n          height: \"99%\",\n          sandbox: \"allow-scripts\",\n          onScroll: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"])),\n          onClose: handleClose,\n          ref_key: \"iframeRef\",\n          ref: iframeRef,\n          style: {\n            \"transform\": \"translateY(-20px)\"\n          }\n        }, null, 40, _hoisted_8)]),\n        _: 1\n      }, 8, [\"modelValue\", \"title\"])], 64);\n    };\n  }\n});","/* unplugin-vue-components disabled */import script from \"./TV.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TV.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TV.vue?vue&type=style&index=0&id=23be622c&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["_hoisted_1","class","scroll","ref","_hoisted_2","_hoisted_3","_hoisted_4","style","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","__name","setup","__props","iframeRef","isShowDrawer","movieInfo","title","url","movieStore","menuStore","showDrawer","value","handleClose","index","$reset","getMovieList","menuList","console","log","_ctx","_cache","_component_ArrowRightBold","_component_el_icon","_component_el_button","_component_el_card","_component_el_drawer","_","movieList","item","padding","key","onClick","$event","default","is_new","src","cover","rate","text","modelValue","direction","size","onScroll","frameborder","width","height","sandbox","onClose","ref_key","__exports__"],"sourceRoot":""}